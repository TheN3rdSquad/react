<!DOCTYPE html>
<html>
	<head>
		<title>JSX and Forms</title>
		<meta charset="utf-8" />
		<link rel="stylesheet" type="text/css" href="form.css" />
	</head>
	<body>
		<div id="app">
			<!-- my app renders here -->
		</div>
		<script src="react/react.js"></script>
		<script src="react/react-dom.js"></script>
		<script src="react/babel.js"></script>
		<script src="react/prop-types.js"></script>
		<script type="text/babel">
			const profile = {
				firstname: 'Jessie',
				lastname: 'Pinkman',
				gender: 'male',
				acceptedTOC: false,
			};

			function updateProfile(ev) {
				ev.preventDefault();
				const form = ev.target;
				Object.keys(profile).forEach((name) => {
					const element = form[name];
					profile[name] = element.type === 'checkbox' 
						? element.checked 
						: element.value;
				});
				console.log(profile);
			} 

			function FormExample() {
				return (
					<form onSubmit={updateProfile}>
						<label>
							First name: {' '}
							<input type="text" name="firstname" defaultValue={profile.firstname} />
						</label><br />
						<label>
							Last name: {' '}
							<input type="text" name="lastname" defaultValue={profile.lastname} />
						</label><br />
						Gender:
						<label>
							<input type="radio"
								name="gender"
								className="radio"
								defaultChecked={profile.gender === 'male'}
								value="male" />{' '}Male
						</label>{' '}
						<label>
							<input type="radio"
								name="gender"
								className="radio"
								defaultChecked={profile.gender === 'female'}
								value="female" />{' '}Female
						</label><br />
						<label>
							<input type="checkbox"
								name="acceptedTOC"
								defaultChecked={profile.acceptedTOC === true} />{' '}
							I accept terms and things
						</label><br />
						<input type="submit" value="Save" />
					</form>
				);
			}
			
			ReactDOM.render(
				<FormExample />,
				document.getElementById('app'),
			);
		</script>
	</body>
</html>