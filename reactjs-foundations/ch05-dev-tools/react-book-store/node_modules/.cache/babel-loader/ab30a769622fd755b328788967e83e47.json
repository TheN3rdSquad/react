{"ast":null,"code":"var _jsxFileName = \"/home/shermannatrix/RnD/react-17/reactjs-foundations/ch05-dev-tools/react-book-store/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Cart from \"./components/Cart\";\nimport ProductList from \"./components/ProductList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App(props) {\n  _s();\n\n  const [items, setItems] = useState([]);\n  const [products, setProducts] = useState([]);\n  useEffect(() => {\n    fetch(\"/data/products.json\").then(response => response.json().then(products => shuffleArray(products)).then(products => {\n      setProducts(products);\n    }));\n  }, []);\n\n  const getProduct = (products, item) => {\n    return products.find(product => item === product.id);\n  };\n\n  const addToCart = idToAdd => {\n    let newItems = [...items, idToAdd];\n    setItems(newItems);\n  };\n\n  const removeFromCart = idToRemove => {\n    let newItems = items.filter(id => id !== idToRemove);\n    setItems(newItems);\n  };\n  /**\n   * Randomize array element order in-place.\n   * Using Durstenfeld shuffle algorithm.\n   */\n\n\n  const shuffleArray = array => {\n    for (let i = array.length - 1; i > 0; i--) {\n      let j = Math.floor(Math.random() * (i + 1));\n      let temp = array[i];\n      array[i] = array[j];\n      array[j] = temp;\n    }\n\n    return array;\n  };\n\n  let itemDetails = items.map(id => getProduct(products, id));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-12\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Welcome to React Bookstore\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8\",\n        children: /*#__PURE__*/_jsxDEV(ProductList, {\n          addToCart: addToCart,\n          removeFromCart: removeFromCart,\n          products: products,\n          inCart: items\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4\",\n        children: /*#__PURE__*/_jsxDEV(Cart, {\n          removeFromCart: removeFromCart,\n          inCart: itemDetails\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"ARJCaoyZL9/4ibzLO3ADdOkDQk0=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/shermannatrix/RnD/react-17/reactjs-foundations/ch05-dev-tools/react-book-store/src/App.js"],"names":["React","useState","useEffect","Cart","ProductList","App","props","items","setItems","products","setProducts","fetch","then","response","json","shuffleArray","getProduct","item","find","product","id","addToCart","idToAdd","newItems","removeFromCart","idToRemove","filter","array","i","length","j","Math","floor","random","temp","itemDetails","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Cart from \"./components/Cart\";\nimport ProductList from \"./components/ProductList\";\n\nfunction App(props) {\n  const [items, setItems] = useState([]);\n  const [products, setProducts] = useState([]);\n\n  useEffect(() => {\n    fetch(\"/data/products.json\").then((response) =>\n      response\n        .json()\n        .then((products) => shuffleArray(products))\n        .then((products) => {\n          setProducts(products);\n        })\n    );\n  }, []);\n\n  const getProduct = (products, item) => {\n    return products.find((product) => item === product.id);\n  };\n\n  const addToCart = (idToAdd) => {\n    let newItems = [...items, idToAdd];\n    setItems(newItems);\n  };\n\n  const removeFromCart = (idToRemove) => {\n    let newItems = items.filter((id) => id !== idToRemove);\n    setItems(newItems);\n  };\n\n  /**\n   * Randomize array element order in-place.\n   * Using Durstenfeld shuffle algorithm.\n   */\n  const shuffleArray = (array) => {\n    for (let i = array.length - 1; i > 0; i--) {\n      let j = Math.floor(Math.random() * (i + 1));\n      let temp = array[i];\n      array[i] = array[j];\n      array[j] = temp;\n    }\n    return array;\n  };\n\n  let itemDetails = items.map((id) => getProduct(products, id));\n\n  return (\n    <div className=\"container\">\n      <header className=\"row\">\n        <div className=\"col-md-12\">\n          <h1>Welcome to React Bookstore</h1>\n        </div>\n      </header>\n      <div className=\"row\">\n        <div className=\"col-md-8\">\n          <ProductList\n            addToCart={addToCart}\n            removeFromCart={removeFromCart}\n            products={products}\n            inCart={items}\n          />\n        </div>\n        <div className=\"col-md-4\">\n          <Cart removeFromCart={removeFromCart} inCart={itemDetails} />\n        </div>\n      </div>\n      <footer></footer>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}